<!doctype html> <html> <head> <meta content="IE=edge" http-equiv=X-UA-Compatible> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name=viewport> <!--[if IE]><link rel="shortcut icon" href="images/favicon-4989dd00.png"><![endif]--> <link rel=icon href="images/favicon-4989dd00.png"> <meta content="IE=edge,chrome=1" http-equiv=X-UA-Compatible> <meta content=summary_large_image name='twitter:card'> <meta content='Algolia Places' name='twitter:site'> <meta content='@Algolia' name='twitter:creator'> <meta content="Algolia Places provides a fast, distributed and easy way to use an address search autocomplete JavaScript library on your website. It has been designed to improve the user experience of your HTML forms." name="twitter:description"> <meta content="https://res.cloudinary.com/hilnmyskv/image/upload/v1466000434/places-og-image_jp9phw.png" name="twitter:image"> <meta content='https://community.algolia.com/places/' property='og:url'> <meta content='Algolia Places' property='og:title'> <meta content='https://res.cloudinary.com/hilnmyskv/image/upload/v1466000434/places-og-image_jp9phw.png' property='og:image'> <meta content='Algolia Places provides a fast, distributed and easy way to use an address search autocomplete JavaScript library on your website. It has been designed to improve the user experience of your HTML forms.' property='og:description'> <meta content='Algolia Places' property='og:site_name'> <title>Algolia Places | Examples</title> <link rel=stylesheet href="https://cdn.jsdelivr.net/hint.css/2/hint.min.css"/> <link rel=stylesheet media=screen href="//fonts.googleapis.com/css?family=Raleway:300,800"> <link href="stylesheets/site-7cb57c09.css" rel=stylesheet /> <script src="https://cdn.jsdelivr.net/places.js/1/places.min.js"></script> <script>
      var currentPath = 'examples.html';
      var clippyPath = 'images/clippy-386f5330.svg';
    </script> </head> <body class=examples> <div class=ac-nav> <div class=ac-nav-container> <div class=ac-nav-brand> <a class=ac-logo href='https://community.algolia.com/' title='Algolia Community'> <img alt='Algolia Community' class='ac-logo__lg nav-icon' src='https://res.cloudinary.com/hilnmyskv/image/upload/logo-community-inline-dark.svg' width=150> <img alt='Algolia Community' class='ac-logo__sm community-badge' src='https://res.cloudinary.com/hilnmyskv/image/upload/v1461180081/logo-community-sm.svg'> </a> <span class=ac-nav-brand-breadcrumb></span> <a class=ac-nav-brand-title data-path='index.html' href='./' title=Home>Places</a> </div> <div class=ac-nav-menu> <div class=ac-nav-searchbox> <form class=searchbox id=docsearch-form novalidate=novalidate onsubmit='return false;' style='visibility:hidden;height:0'> <div class=searchbox__wrapper role=search> <input autocomplete=off class=searchbox__input id=docsearch name=search placeholder='Search in the doc' required=required type=search> <button class=searchbox__submit title='Submit your search query.' type=submit> <svg aria-label=Search role=img> <use xlink:href='#sbx-icon-search-13' xmlns:xlink='http://www.w3.org/1999/xlink'></use> </svg> </button> <button class='searchbox__reset hide' title='Clear the search query.' type=reset> <svg aria-label=Reset role=img> <use xlink:href='#sbx-icon-clear-3' xmlns:xlink='http://www.w3.org/1999/xlink'></use> </svg> </button> </input> </div> </form> <div class=svg-icons style='height: 0; width: 0; position: absolute; visibility: hidden'> <svg xmlns='http://www.w3.org/2000/svg'> <symbol id=sbx-icon-clear-3 viewBox="0 0 40 40"><path d="M16.228 20L1.886 5.657 0 3.772 3.772 0l1.885 1.886L20 16.228 34.343 1.886 36.228 0 40 3.772l-1.886 1.885L23.772 20l14.342 14.343L40 36.228 36.228 40l-1.885-1.886L20 23.772 5.657 38.114 3.772 40 0 36.228l1.886-1.885L16.228 20z" fill-rule=evenodd /></symbol> <symbol id=sbx-icon-search-13 viewBox="0 0 12 12"><path d="M12 11.077c0-.245-.1-.483-.267-.65L9.26 7.955c.584-.843.894-1.853.894-2.877C10.154 2.272 7.882 0 5.077 0S0 2.272 0 5.077s2.272 5.077 5.077 5.077c1.024 0 2.034-.31 2.877-.894l2.474 2.466c.166.173.404.274.65.274.504 0 .922-.418.922-.923zm-3.692-6c0 1.78-1.45 3.23-3.23 3.23-1.782 0-3.232-1.45-3.232-3.23s1.45-3.23 3.23-3.23c1.782 0 3.232 1.45 3.232 3.23z" fill="#FFF" fill-rule=evenodd opacity="0.85"/></symbol> </svg> </div> </div> <ul class=ac-nav-menu-list> <li class=ac-nav-menu-list-item> <a data-path='documentation.html' href='documentation.html' title=Documentation>Documentation</a> </li> <li class='ac-nav-menu-list-item active'> <a data-path='examples.html' href='examples.html' title=Examples>Examples</a> </li> <li class=ac-nav-menu-list-item> <a data-path='support.html' href='support.html' title=Support>Support</a> </li> <li class=ac-nav-menu-list-item> <a data-path='contact.html' href='contact.html' title=Contact>Contact</a> </li> <li class=ac-nav-menu-list-icon> <a class=ac-icon href='https://github.com/algolia/places' title='GitHub repository'> <span class='ac-icon ac-icon-github'></span> </a> </li> </ul> </div> </div> </div> <section class='hero-section shrink'> <div class=container> <div class=hero-container> <div class=fl-left> <a href='https://www.algolia.com/?utm_medium=social-owned&amp;utm_source=places%20website&amp;utm_campaign=homepage' title='Algolia built this'> <span class='icon icon-algolia-small no-mobile' id=icon-algolia></span> </a> <span class='display-on-small small-illustration'> <img src='images/svg/places-illustration-65745839.svg'> </span> <h1>Examples</h1> </div> </div> </div> <div class=relative> <div id=json-response> <div id=json-response-text></div> <div id=json-response-timing></div> </div> </div> <div class=examples-intro> <div class=items-holder> <div class=item> <a href='#simple-input'> <span class='square input'> <?xml version="1.0" encoding=UTF-8 standalone=no?> <svg width=48px height=48px viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>search-icon</title> <desc>Created with Sketch.</desc> <defs></defs> <g id=Page-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd> <g id=Places-1-Copy-9 transform="translate(-289.000000, -310.000000)" fill="#FFFFFF"> <g id=Group-20 transform="translate(253.000000, 274.000000)"> <path d="M70.3053173,66.1886792 L68.1372213,66.1886792 L67.3687822,65.4476844 C70.058319,62.3190395 71.67753,58.2572899 71.67753,53.838765 C71.67753,43.9862779 63.6912521,36 53.838765,36 C43.9862779,36 36,43.9862779 36,53.838765 C36,63.6912521 43.9862779,71.67753 53.838765,71.67753 C58.2572899,71.67753 62.3190395,70.058319 65.4476844,67.3687822 L66.1886792,68.1372213 L66.1886792,70.3053173 L79.9108062,84 L84,79.9108062 L70.3053173,66.1886792 L70.3053173,66.1886792 Z M53.838765,66.1886792 C47.0051458,66.1886792 41.4888508,60.6723842 41.4888508,53.838765 C41.4888508,47.0051458 47.0051458,41.4888508 53.838765,41.4888508 C60.6723842,41.4888508 66.1886792,47.0051458 66.1886792,53.838765 C66.1886792,60.6723842 60.6723842,66.1886792 53.838765,66.1886792 L53.838765,66.1886792 Z" id=search-icon></path> </g> </g> </g> </svg> </span> <span class=name>Simple Input</span> </a> </div> <div class=item> <a href='#complete-form'> <span class='square form'> <?xml version="1.0" encoding=UTF-8 standalone=no?> <svg width=39px height=48px viewBox="0 0 39 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>form-icon</title> <desc>Created with Sketch.</desc> <defs></defs> <g id=Page-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd> <g id=Places-1-Copy-9 transform="translate(-458.000000, -310.000000)" fill="#FFFFFF"> <g id=Group-20 transform="translate(253.000000, 274.000000)"> <path d="M241.048649,83.8933333 L207.424324,83.8933333 C206.106757,83.8933333 205,82.7733333 205,81.44 L205,38.4533333 C205,37.12 206.106757,36 207.424324,36 L241.048649,36 C242.366216,36 243.472973,37.12 243.472973,38.4533333 L243.472973,81.44 C243.472973,82.8266667 242.366216,83.8933333 241.048649,83.8933333 L241.048649,83.8933333 Z M209.47973,79.7333333 L238.993243,79.7333333 C239.204054,79.7333333 239.362162,79.5733333 239.362162,79.36 L239.362162,40.5333333 C239.362162,40.32 239.204054,40.16 238.993243,40.16 L209.47973,40.16 C209.268919,40.16 209.110811,40.32 209.110811,40.5333333 L209.110811,79.36 C209.058108,79.5733333 209.268919,79.7333333 209.47973,79.7333333 Z M233.406757,75.2 L215.013514,75.2 C214.802703,75.2 214.644595,75.04 214.644595,74.8266667 L214.644595,71.4666667 C214.644595,71.2533333 214.802703,71.0933333 215.013514,71.0933333 L233.406757,71.0933333 C233.617568,71.0933333 233.775676,71.2533333 233.775676,71.4666667 L233.775676,74.8266667 C233.828378,75.04 233.617568,75.2 233.406757,75.2 Z M233.406757,66.4 L215.013514,66.4 C214.802703,66.4 214.644595,66.24 214.644595,66.0266667 L214.644595,62.6666667 C214.644595,62.4533333 214.802703,62.2933333 215.013514,62.2933333 L233.406757,62.2933333 C233.617568,62.2933333 233.775676,62.4533333 233.775676,62.6666667 L233.775676,66.0266667 C233.828378,66.24 233.617568,66.4 233.406757,66.4 Z M233.406757,57.6 L215.013514,57.6 C214.802703,57.6 214.644595,57.44 214.644595,57.2266667 L214.644595,53.8666667 C214.644595,53.6533333 214.802703,53.4933333 215.013514,53.4933333 L233.406757,53.4933333 C233.617568,53.4933333 233.775676,53.6533333 233.775676,53.8666667 L233.775676,57.2266667 C233.828378,57.44 233.617568,57.6 233.406757,57.6 Z M233.406757,48.8533333 L215.013514,48.8533333 C214.802703,48.8533333 214.644595,48.6933333 214.644595,48.48 L214.644595,45.12 C214.644595,44.9066667 214.802703,44.7466667 215.013514,44.7466667 L233.406757,44.7466667 C233.617568,44.7466667 233.775676,44.9066667 233.775676,45.12 L233.775676,48.48 C233.828378,48.6933333 233.617568,48.8533333 233.406757,48.8533333 Z" id=form-icon></path> </g> </g> </g> </svg> </span> <span class=name>Complete Form</span> </a> </div> <div class=item> <a href='#city-search'> <span class='square city'> <?xml version="1.0" encoding=UTF-8 standalone=no?> <svg width=48px height=51px viewBox="0 0 48 51" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>city-icon</title> <desc>Created with Sketch.</desc> <defs></defs> <g id=Page-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd> <g id=Places-1-Copy-9 transform="translate(-617.000000, -308.000000)" fill="#FFFFFF"> <g id=Group-20 transform="translate(253.000000, 274.000000)"> <path d="M396,58.1578947 L396,42.0526316 L388,34 L380,42.0526316 L380,47.4210526 L364,47.4210526 L364,85 L412,85 L412,58.1578947 L396,58.1578947 L396,58.1578947 Z M374.666667,79.6315789 L369.333333,79.6315789 L369.333333,74.2631579 L374.666667,74.2631579 L374.666667,79.6315789 L374.666667,79.6315789 Z M374.666667,68.8947368 L369.333333,68.8947368 L369.333333,63.5263158 L374.666667,63.5263158 L374.666667,68.8947368 L374.666667,68.8947368 Z M374.666667,58.1578947 L369.333333,58.1578947 L369.333333,52.7894737 L374.666667,52.7894737 L374.666667,58.1578947 L374.666667,58.1578947 Z M390.666667,79.6315789 L385.333333,79.6315789 L385.333333,74.2631579 L390.666667,74.2631579 L390.666667,79.6315789 L390.666667,79.6315789 Z M390.666667,68.8947368 L385.333333,68.8947368 L385.333333,63.5263158 L390.666667,63.5263158 L390.666667,68.8947368 L390.666667,68.8947368 Z M390.666667,58.1578947 L385.333333,58.1578947 L385.333333,52.7894737 L390.666667,52.7894737 L390.666667,58.1578947 L390.666667,58.1578947 Z M390.666667,47.4210526 L385.333333,47.4210526 L385.333333,42.0526316 L390.666667,42.0526316 L390.666667,47.4210526 L390.666667,47.4210526 Z M406.666667,79.6315789 L401.333333,79.6315789 L401.333333,74.2631579 L406.666667,74.2631579 L406.666667,79.6315789 L406.666667,79.6315789 Z M406.666667,68.8947368 L401.333333,68.8947368 L401.333333,63.5263158 L406.666667,63.5263158 L406.666667,68.8947368 L406.666667,68.8947368 Z" id=city-icon></path> </g> </g> </g> </svg> </span> <span class=name>City Search</span> </a> </div> <div class=item> <a href='#country-search'> <span class='square country'> <?xml version="1.0" encoding=UTF-8 standalone=no?> <svg width=48px height=48px viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>country-icon</title> <desc>Created with Sketch.</desc> <defs></defs> <g id=Page-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd> <g id=Places-1-Copy-9 transform="translate(-781.000000, -310.000000)" fill="#FFFFFF"> <g id=Group-20 transform="translate(253.000000, 274.000000)"> <path d="M552,36 C538.752,36 528,46.752 528,60 C528,73.248 538.752,84 552,84 C565.248,84 576,73.248 576,60 C576,46.752 565.248,36 552,36 L552,36 Z M549.6,79.032 C540.12,77.856 532.8,69.792 532.8,60 C532.8,58.512 532.992,57.096 533.304,55.704 L544.8,67.2 L544.8,69.6 C544.8,72.24 546.96,74.4 549.6,74.4 L549.6,79.032 L549.6,79.032 Z M566.16,72.936 C565.536,70.992 563.76,69.6 561.6,69.6 L559.2,69.6 L559.2,62.4 C559.2,61.08 558.12,60 556.8,60 L542.4,60 L542.4,55.2 L547.2,55.2 C548.52,55.2 549.6,54.12 549.6,52.8 L549.6,48 L554.4,48 C557.04,48 559.2,45.84 559.2,43.2 L559.2,42.216 C566.232,45.072 571.2,51.96 571.2,60 C571.2,64.992 569.28,69.528 566.16,72.936 L566.16,72.936 Z" id=country-icon></path> </g> </g> </g> </svg> </span> <span class=name>Country Search</span> </a> </div> <div class=item> <a href='#link-to-a-map'> <span class='square map'> <?xml version="1.0" encoding=UTF-8 standalone=no?> <svg width=34px height=48px viewBox="0 0 34 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>map-icon</title> <desc>Created with Sketch.</desc> <defs></defs> <g id=Page-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd> <g id=Places-1-Copy-9 transform="translate(-952.000000, -310.000000)" fill="#FFFFFF"> <g id=Group-20 transform="translate(253.000000, 274.000000)"> <path d="M716,36 C706.601429,36 699,43.512 699,52.8 C699,65.4 716,84 716,84 C716,84 733,65.4 733,52.8 C733,43.512 725.398571,36 716,36 L716,36 Z M716,58.8 C712.648571,58.8 709.928571,56.112 709.928571,52.8 C709.928571,49.488 712.648571,46.8 716,46.8 C719.351429,46.8 722.071429,49.488 722.071429,52.8 C722.071429,56.112 719.351429,58.8 716,58.8 L716,58.8 Z" id=map-icon></path> </g> </g> </g> </svg> </span> <span class=name>Link to a map</span> </a> </div> <div class=item> <a href='#advanced'> <span class='square advanced'> <?xml version="1.0" encoding=UTF-8 standalone=no?> <svg width=48px height=48px viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>advanced-icon</title> <desc>Created with Sketch.</desc> <defs></defs> <g id=Page-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd> <g id=Places-1-Copy-9 transform="translate(-1109.000000, -310.000000)" fill="#FFFFFF"> <g id=Group-20 transform="translate(253.000000, 274.000000)"> <path d="M899.549491,62.857438 L904,60.9845041 C903.739664,57.9834711 903.749995,58.1022727 903.490692,55.1012397 L898.783979,54.0206612 C897.930654,52.1859504 897.571143,51.4142562 896.717818,49.5795455 L898.923444,45.2840909 C896.795299,43.1518595 896.880012,43.2365702 894.751867,41.1043388 L890.449089,43.302686 C888.616404,42.446281 887.844694,42.0857438 886.01201,41.2293388 L884.939672,36.5196281 C881.939608,36.2541322 882.057379,36.2644628 879.057314,36 L877.175043,40.4493802 C875.220455,40.9710744 874.398123,41.1911157 872.443536,41.7128099 L868.593246,38.7933884 C866.124185,40.5196281 866.222327,40.4514463 863.753266,42.1766529 L865.170652,46.7923554 C864.008437,48.4483471 863.51979,49.1456612 862.357575,50.8016529 L857.533091,51.0402893 C856.751049,53.9493802 856.782042,53.8336777 856,56.7427686 L860.052773,59.3667355 C860.227364,61.3822314 860.300712,62.2303719 860.475303,64.2469008 L856.933904,67.5289256 C858.204593,70.2603306 858.153972,70.1518595 859.42466,72.8832645 L864.218152,72.2882231 C865.646902,73.7200413 866.249188,74.322314 867.677937,75.7541322 L867.074619,80.5454545 C869.802983,81.821281 869.695543,81.7706612 872.423907,83.0464876 L875.7153,79.5092975 C877.729807,79.6869835 878.578998,79.7623967 880.593505,79.9400826 L883.213396,84 C886.123582,83.2231405 886.00891,83.2530992 888.919097,82.4762397 L889.166003,77.6528926 C890.824097,76.4938017 891.522459,76.0061983 893.180552,74.8471074 L897.796354,76.2727273 C899.52573,73.8068182 899.457547,73.9039256 901.187956,71.4380165 L898.276736,67.5857438 C898.802574,65.6332645 899.023653,64.8109504 899.549491,62.857438 L899.549491,62.857438 Z M880.335234,72.5847107 C873.20285,72.5847107 867.421733,66.803719 867.421733,59.6714876 C867.421733,52.5392562 873.20285,46.7582645 880.335234,46.7582645 C887.467619,46.7582645 893.248736,52.5392562 893.248736,59.6714876 C893.248736,66.803719 887.467619,72.5847107 880.335234,72.5847107 L880.335234,72.5847107 Z" id=advanced-icon></path> </g> </g> </g> </svg> </span> <span class=name>Advanced</span> </a> </div> </div> </div> </section> <section class=documentation-section> <div class=container> <nav class=sidebar id=sidebar></nav> <div class=documentation-container> <link rel=stylesheet href="https://cdn.jsdelivr.net/leaflet/1/leaflet.css"/> <script src="https://cdn.jsdelivr.net/leaflet/1/leaflet.js"></script> <h2 id=simple-input>Simple input</h2> <p>places.js turns any HTML <code>&lt;input&gt;</code> into an autocomplete address search bar.</p> <p><input type=search id=address class=form-control placeholder="Where are we going?"/></p> <p>Selected: <strong id=address-value>none</strong></p> <script src="https://cdn.jsdelivr.net/places.js/1/places.min.js"></script> <script>
(function() {
  var placesAutocomplete = places({
    container: document.querySelector('#address')
  });

  var $address = document.querySelector('#address-value')
  placesAutocomplete.on('change', function(e) {
    $address.textContent = e.suggestion.value 
  });

  placesAutocomplete.on('clear', function() {
    $address.textContent = 'none';
  });

})();
</script> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td class=code><pre><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">id=</span><span class="s">"address"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">placeholder=</span><span class="s">"Where are we going?"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;p&gt;</span>Selected: <span class="nt">&lt;strong</span> <span class="na">id=</span><span class="s">"address-value"</span><span class="nt">&gt;</span>none<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/places.js/1/places.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">placesAutocomplete</span> <span class="o">=</span> <span class="nx">places</span><span class="p">({</span>
    <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#address'</span><span class="p">)</span>
  <span class="p">});</span>

  <span class="kd">var</span> <span class="nx">$address</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#address-value'</span><span class="p">)</span>
  <span class="nx">placesAutocomplete</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$address</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">suggestion</span><span class="p">.</span><span class="nx">value</span> 
  <span class="p">});</span>

  <span class="nx">placesAutocomplete</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'clear'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$address</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s1">'none'</span><span class="p">;</span>
  <span class="p">});</span>

<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>

</pre></td></tr></tbody></table> </div> <h2 id=complete-form>Complete form</h2> <p>Once the user has selected an address, you can use the <a href="documentation.html#events">change event</a> to fill-out another form with the user address structured data.</p> <form action="/billing" class=form> <div class=form-group> <label for=form-address>Address*</label> <input type=search class=form-control id=form-address placeholder="Where do you live?"/> </div> <div class=form-group> <label for=form-address2>Address 2</label> <input class=form-control id=form-address2 placeholder="Street number and name"/> </div> <div class=form-group> <label for=form-city>City*</label> <input class=form-control id=form-city placeholder=City /> </div> <div class=form-group> <label for=form-zip>ZIP code*</label> <input class=form-control id=form-zip placeholder="ZIP code"/> </div> </form> <script src="https://cdn.jsdelivr.net/places.js/1/places.min.js"></script> <script>
(function() {
  var placesAutocomplete = places({
    container: document.querySelector('#form-address'),
    type: 'address',
    templates: {
      value: function(suggestion) {
        return suggestion.name;
      }
    }
  });
  placesAutocomplete.on('change', function resultSelected(e) {
    document.querySelector('#form-address2').value = e.suggestion.administrative || '';
    document.querySelector('#form-city').value = e.suggestion.city || '';
    document.querySelector('#form-zip').value = e.suggestion.postcode || '';
  });
})();
</script> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></td><td class=code><pre><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"/billing"</span> <span class="na">class=</span><span class="s">"form"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"form-address"</span><span class="nt">&gt;</span>Address*<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">id=</span><span class="s">"form-address"</span> <span class="na">placeholder=</span><span class="s">"Where do you live?"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"form-address2"</span><span class="nt">&gt;</span>Address 2<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">id=</span><span class="s">"form-address2"</span> <span class="na">placeholder=</span><span class="s">"Street number and name"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"form-city"</span><span class="nt">&gt;</span>City*<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">id=</span><span class="s">"form-city"</span> <span class="na">placeholder=</span><span class="s">"City"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"form-zip"</span><span class="nt">&gt;</span>ZIP code*<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">id=</span><span class="s">"form-zip"</span> <span class="na">placeholder=</span><span class="s">"ZIP code"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/form&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/places.js/1/places.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">placesAutocomplete</span> <span class="o">=</span> <span class="nx">places</span><span class="p">({</span>
    <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#form-address'</span><span class="p">),</span>
    <span class="na">type</span><span class="p">:</span> <span class="s1">'address'</span><span class="p">,</span>
    <span class="na">templates</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">value</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">suggestion</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">});</span>
  <span class="nx">placesAutocomplete</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">resultSelected</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#form-address2'</span><span class="p">).</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">suggestion</span><span class="p">.</span><span class="nx">administrative</span> <span class="o">||</span> <span class="s1">''</span><span class="p">;</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#form-city'</span><span class="p">).</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">suggestion</span><span class="p">.</span><span class="nx">city</span> <span class="o">||</span> <span class="s1">''</span><span class="p">;</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#form-zip'</span><span class="p">).</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">suggestion</span><span class="p">.</span><span class="nx">postcode</span> <span class="o">||</span> <span class="s1">''</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>

</pre></td></tr></tbody></table> </div> <h2 id=city-search>City search</h2> <p>You can build a city search input by using the <a href="documentation.html#options">type parameter</a>.</p> <p><input type=search id=city class=form-control placeholder="In which city do you live?"/></p> <script src="https://cdn.jsdelivr.net/places.js/1/places.min.js"></script> <script>
(function() {
  var placesAutocomplete = places({
    container: document.querySelector('#city'),
    type: 'city',
    templates: {
      value: function(suggestion) {
        return suggestion.name;
      }
    }
  });
})();
</script> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre></td><td class=code><pre><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">id=</span><span class="s">"city"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">placeholder=</span><span class="s">"In which city do you live?"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/places.js/1/places.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">placesAutocomplete</span> <span class="o">=</span> <span class="nx">places</span><span class="p">({</span>
    <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#city'</span><span class="p">),</span>
    <span class="na">type</span><span class="p">:</span> <span class="s1">'city'</span><span class="p">,</span>
    <span class="na">templates</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">value</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">suggestion</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>

</pre></td></tr></tbody></table> </div> <h2 id=country-search>Country search</h2> <p>You can also search in countries only.</p> <p>places.js turns any HTML <code>&lt;input&gt;</code> into a City as-you-type search bar. You can filter on a specific list of countries if needed:</p> <link rel=stylesheet href="//cloud.github.com/downloads/lafeber/world-flags-sprite/flags16.css"/> <div class=f16> <input type=search id=country class=form-control placeholder="What's your favorite country?"/> </div> <script src="https://cdn.jsdelivr.net/places.js/1/places.min.js"></script> <script>
(function() {
  var placesAutocomplete = places({
    container: document.querySelector('#country'),
    type: 'country',
    templates: {
      suggestion: function(suggestion) {
        var hit = suggestion.rawAnswer.hits[suggestion.hitIndex];
        return '<i class="flag ' + suggestion.countryCode + '"></i> ' +
          hit._highlightResult.locale_names[0].value;
      }
    }
  });
})();
</script> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td class=code><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href=</span><span class="s">"//cloud.github.com/downloads/lafeber/world-flags-sprite/flags16.css"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"f16"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">id=</span><span class="s">"country"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">placeholder=</span><span class="s">"What's your favorite country?"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/places.js/1/places.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">placesAutocomplete</span> <span class="o">=</span> <span class="nx">places</span><span class="p">({</span>
    <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#country'</span><span class="p">),</span>
    <span class="na">type</span><span class="p">:</span> <span class="s1">'country'</span><span class="p">,</span>
    <span class="na">templates</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">suggestion</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">hit</span> <span class="o">=</span> <span class="nx">suggestion</span><span class="p">.</span><span class="nx">rawAnswer</span><span class="p">.</span><span class="nx">hits</span><span class="p">[</span><span class="nx">suggestion</span><span class="p">.</span><span class="nx">hitIndex</span><span class="p">];</span>
        <span class="k">return</span> <span class="s1">'&lt;i class="flag '</span> <span class="o">+</span> <span class="nx">suggestion</span><span class="p">.</span><span class="nx">countryCode</span> <span class="o">+</span> <span class="s1">'"&gt;&lt;/i&gt; '</span> <span class="o">+</span>
          <span class="nx">hit</span><span class="p">.</span><span class="nx">_highlightResult</span><span class="p">.</span><span class="nx">locale_names</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">value</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>

</pre></td></tr></tbody></table> </div> <h2 id=link-to-a-map>Link to a map</h2> <p>We will use the <a href="http://leafletjs.com/">Leaflet</a> JavaScript library as an example to display the places.js results on the map and update them when needed.</p> <div id=map-example-container></div> <p><input type=search id=input-map class=form-control placeholder="Where are we going?"/></p> <style>
  #map-example-container {height: 300px};
</style> <script src="https://cdn.jsdelivr.net/places.js/1/places.min.js"></script> <script>
(function() {
  var placesAutocomplete = places({
    container: document.querySelector('#input-map')
  });

  var map = L.map('map-example-container', {
    scrollWheelZoom: false,
    zoomControl: false
  });

  var osmLayer = new L.TileLayer(
    'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      minZoom: 1,
      maxZoom: 13,
      attribution: 'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'
    }
  );

  var markers = [];

  map.setView(new L.LatLng(0, 0), 1);
  map.addLayer(osmLayer);

  placesAutocomplete.on('suggestions', handleOnSuggestions);
  placesAutocomplete.on('cursorchanged', handleOnCursorchanged);
  placesAutocomplete.on('change', handleOnChange);
  placesAutocomplete.on('clear', handleOnClear);

  function handleOnSuggestions(e) {
    markers.forEach(removeMarker);
    markers = [];

    if (e.suggestions.length === 0) {
      map.setView(new L.LatLng(0, 0), 1);
      return;
    }

    e.suggestions.forEach(addMarker);
    findBestZoom();
  }

  function handleOnChange(e) {
    markers
      .forEach(function(marker, markerIndex) {
        if (markerIndex === e.suggestionIndex) {
          markers = [marker];
          marker.setOpacity(1);
          findBestZoom();
        } else {
          removeMarker(marker);
        }
      });
  }
  
  function handleOnClear() {
    map.setView(new L.LatLng(0, 0), 1);
    markers.forEach(removeMarker);
  }

  function handleOnCursorchanged(e) {
    markers
      .forEach(function(marker, markerIndex) {
        if (markerIndex === e.suggestionIndex) {
          marker.setOpacity(1);
          marker.setZIndexOffset(1000);
        } else {
          marker.setZIndexOffset(0);
          marker.setOpacity(0.5);
        }
      });
  }

  function addMarker(suggestion) {
    var marker = L.marker(suggestion.latlng, {opacity: .4});
    marker.addTo(map);
    markers.push(marker);
  }

  function removeMarker(marker) {
    map.removeLayer(marker);
  }

  function findBestZoom() {
    var featureGroup = L.featureGroup(markers);
    map.fitBounds(featureGroup.getBounds().pad(0.5), {animate: false});
  }
})();
</script> <p>To try this example, you need to add leaflet in your code:</p> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2</pre></td><td class=code><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://cdn.jsdelivr.net/leaflet/1/leaflet.css"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/leaflet/1/leaflet.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></td></tr></tbody></table> </div> <p>Then use this:</p> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98</pre></td><td class=code><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"map-example-container"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">id=</span><span class="s">"input-map"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">placeholder=</span><span class="s">"Where are we going?"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;style&gt;</span>
  <span class="nf">#map-example-container</span> <span class="p">{</span><span class="nl">height</span><span class="p">:</span> <span class="m">300px</span><span class="p">}</span><span class="o">;</span>
<span class="nt">&lt;/style&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/places.js/1/places.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">placesAutocomplete</span> <span class="o">=</span> <span class="nx">places</span><span class="p">({</span>
    <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#input-map'</span><span class="p">)</span>
  <span class="p">});</span>

  <span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">'map-example-container'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">scrollWheelZoom</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">zoomControl</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">});</span>

  <span class="kd">var</span> <span class="nx">osmLayer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">TileLayer</span><span class="p">(</span>
    <span class="s1">'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">minZoom</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="na">maxZoom</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span>
      <span class="na">attribution</span><span class="p">:</span> <span class="s1">'Map data © &lt;a href="https://openstreetmap.org"&gt;OpenStreetMap&lt;/a&gt; contributors'</span>
    <span class="p">}</span>
  <span class="p">);</span>

  <span class="kd">var</span> <span class="nx">markers</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">(</span><span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
  <span class="nx">map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">osmLayer</span><span class="p">);</span>

  <span class="nx">placesAutocomplete</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'suggestions'</span><span class="p">,</span> <span class="nx">handleOnSuggestions</span><span class="p">);</span>
  <span class="nx">placesAutocomplete</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'cursorchanged'</span><span class="p">,</span> <span class="nx">handleOnCursorchanged</span><span class="p">);</span>
  <span class="nx">placesAutocomplete</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="nx">handleOnChange</span><span class="p">);</span>
  <span class="nx">placesAutocomplete</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'clear'</span><span class="p">,</span> <span class="nx">handleOnClear</span><span class="p">);</span>

  <span class="kd">function</span> <span class="nx">handleOnSuggestions</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">markers</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">removeMarker</span><span class="p">);</span>
    <span class="nx">markers</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">suggestions</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">(</span><span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">e</span><span class="p">.</span><span class="nx">suggestions</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">addMarker</span><span class="p">);</span>
    <span class="nx">findBestZoom</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">handleOnChange</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">markers</span>
      <span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">marker</span><span class="p">,</span> <span class="nx">markerIndex</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">markerIndex</span> <span class="o">===</span> <span class="nx">e</span><span class="p">.</span><span class="nx">suggestionIndex</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">markers</span> <span class="o">=</span> <span class="p">[</span><span class="nx">marker</span><span class="p">];</span>
          <span class="nx">marker</span><span class="p">.</span><span class="nx">setOpacity</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="nx">findBestZoom</span><span class="p">();</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">removeMarker</span><span class="p">(</span><span class="nx">marker</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">});</span>
  <span class="p">}</span>
  
  <span class="kd">function</span> <span class="nx">handleOnClear</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">(</span><span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">markers</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">removeMarker</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">handleOnCursorchanged</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">markers</span>
      <span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">marker</span><span class="p">,</span> <span class="nx">markerIndex</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">markerIndex</span> <span class="o">===</span> <span class="nx">e</span><span class="p">.</span><span class="nx">suggestionIndex</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">marker</span><span class="p">.</span><span class="nx">setOpacity</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="nx">marker</span><span class="p">.</span><span class="nx">setZIndexOffset</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">marker</span><span class="p">.</span><span class="nx">setZIndexOffset</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
          <span class="nx">marker</span><span class="p">.</span><span class="nx">setOpacity</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">});</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">addMarker</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">.</span><span class="nx">latlng</span><span class="p">,</span> <span class="p">{</span><span class="na">opacity</span><span class="p">:</span> <span class="p">.</span><span class="mi">4</span><span class="p">});</span>
    <span class="nx">marker</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
    <span class="nx">markers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">marker</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">removeMarker</span><span class="p">(</span><span class="nx">marker</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">map</span><span class="p">.</span><span class="nx">removeLayer</span><span class="p">(</span><span class="nx">marker</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">findBestZoom</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">featureGroup</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">featureGroup</span><span class="p">(</span><span class="nx">markers</span><span class="p">);</span>
    <span class="nx">map</span><span class="p">.</span><span class="nx">fitBounds</span><span class="p">(</span><span class="nx">featureGroup</span><span class="p">.</span><span class="nx">getBounds</span><span class="p">().</span><span class="nx">pad</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span> <span class="p">{</span><span class="na">animate</span><span class="p">:</span> <span class="kc">false</span><span class="p">});</span>
  <span class="p">}</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>

</pre></td></tr></tbody></table> </div> <h2 id=force-lat-lng-radius>Force lat, lng, radius</h2> <p>Reusing the <a href="#link-to-a-map">map</a> example, we want to only search around Paris, France.</p> <p>This is useful when you really want to display results around a specific area.</p> <div id=map-example-container-paris></div> <p><input type=search id=input-map-paris class=form-control placeholder="Find a street in Paris, France. Try &quot;Rivoli&quot;"/></p> <style>
  #map-example-container-paris {
    height: 300px
  }
</style> <script src="https://cdn.jsdelivr.net/places.js/1/places.min.js"></script> <script>
(function() {
  var latlng = {
    lat: 48.8566,
    lng: 2.34287
  };

  var placesAutocomplete = places({
    container: document.querySelector('#input-map-paris'),
    aroundLatLng: latlng.lat + ',' + latlng.lng, // Paris latitude longitude
    aroundRadius: 10 * 1000, // 10km radius
    type: 'address'
  });

  var map = L.map('map-example-container-paris', {
    scrollWheelZoom: false,
    zoomControl: false
  });

  var osmLayer = new L.TileLayer(
    'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      minZoom: 12,
      maxZoom: 18,
      attribution: 'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'
    }
  );

  var markers = [];

  map.setView(new L.LatLng(latlng.lat, latlng.lng), 12);
  map.addLayer(osmLayer);

  placesAutocomplete.on('suggestions', handleOnSuggestions);
  placesAutocomplete.on('cursorchanged', handleOnCursorchanged);
  placesAutocomplete.on('change', handleOnChange);

  function handleOnSuggestions(e) {
    markers.forEach(removeMarker);
    markers = [];

    if (e.suggestions.length === 0) {
      map.setView(new L.LatLng(latlng.lat, latlng.lng), 12);
      return;
    }

    e.suggestions.forEach(addMarker);
    findBestZoom();
  }

  function handleOnChange(e) {
    markers
      .forEach(function(marker, markerIndex) {
        if (markerIndex === e.suggestionIndex) {
          markers = [marker];
          marker.setOpacity(1);
          findBestZoom();
        } else {
          removeMarker(marker);
        }
      });
  }

  function handleOnClear() {
    map.setView(new L.LatLng(latlng.lat, latlng.lng), 12);
  }

  function handleOnCursorchanged(e) {
    markers
      .forEach(function(marker, markerIndex) {
        if (markerIndex === e.suggestionIndex) {
          marker.setOpacity(1);
          marker.setZIndexOffset(1000);
        } else {
          marker.setZIndexOffset(0);
          marker.setOpacity(0.5);
        }
      });
  }

  function addMarker(suggestion) {
    var marker = L.marker(suggestion.latlng, {opacity: .4});
    marker.addTo(map);
    markers.push(marker);
  }

  function removeMarker(marker) {
    map.removeLayer(marker);
  }

  function findBestZoom() {
    var featureGroup = L.featureGroup(markers);
    map.fitBounds(featureGroup.getBounds().pad(0.5), {animate: false});
  }
})();
</script> <p>To try this example, you need to add leaflet in your code:</p> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2</pre></td><td class=code><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://cdn.jsdelivr.net/leaflet/1/leaflet.css"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/leaflet/1/leaflet.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></td></tr></tbody></table> </div> <p>Then use this:</p> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106</pre></td><td class=code><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"map-example-container-paris"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">id=</span><span class="s">"input-map-paris"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">placeholder=</span><span class="s">"Find a street in Paris, France. Try &amp;quot;Rivoli&amp;quot;"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;style&gt;</span>
  <span class="nf">#map-example-container-paris</span> <span class="p">{</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">300px</span>
  <span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/places.js/1/places.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">latlng</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">lat</span><span class="p">:</span> <span class="mf">48.8566</span><span class="p">,</span>
    <span class="na">lng</span><span class="p">:</span> <span class="mf">2.34287</span>
  <span class="p">};</span>

  <span class="kd">var</span> <span class="nx">placesAutocomplete</span> <span class="o">=</span> <span class="nx">places</span><span class="p">({</span>
    <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#input-map-paris'</span><span class="p">),</span>
    <span class="na">aroundLatLng</span><span class="p">:</span> <span class="nx">latlng</span><span class="p">.</span><span class="nx">lat</span> <span class="o">+</span> <span class="s1">','</span> <span class="o">+</span> <span class="nx">latlng</span><span class="p">.</span><span class="nx">lng</span><span class="p">,</span> <span class="c1">// Paris latitude longitude</span>
    <span class="na">aroundRadius</span><span class="p">:</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span> <span class="c1">// 10km radius</span>
    <span class="na">type</span><span class="p">:</span> <span class="s1">'address'</span>
  <span class="p">});</span>

  <span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">'map-example-container-paris'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">scrollWheelZoom</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">zoomControl</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">});</span>

  <span class="kd">var</span> <span class="nx">osmLayer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">TileLayer</span><span class="p">(</span>
    <span class="s1">'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">minZoom</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
      <span class="na">maxZoom</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
      <span class="na">attribution</span><span class="p">:</span> <span class="s1">'Map data © &lt;a href="https://openstreetmap.org"&gt;OpenStreetMap&lt;/a&gt; contributors'</span>
    <span class="p">}</span>
  <span class="p">);</span>

  <span class="kd">var</span> <span class="nx">markers</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">(</span><span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">latlng</span><span class="p">.</span><span class="nx">lat</span><span class="p">,</span> <span class="nx">latlng</span><span class="p">.</span><span class="nx">lng</span><span class="p">),</span> <span class="mi">12</span><span class="p">);</span>
  <span class="nx">map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">osmLayer</span><span class="p">);</span>

  <span class="nx">placesAutocomplete</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'suggestions'</span><span class="p">,</span> <span class="nx">handleOnSuggestions</span><span class="p">);</span>
  <span class="nx">placesAutocomplete</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'cursorchanged'</span><span class="p">,</span> <span class="nx">handleOnCursorchanged</span><span class="p">);</span>
  <span class="nx">placesAutocomplete</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="nx">handleOnChange</span><span class="p">);</span>

  <span class="kd">function</span> <span class="nx">handleOnSuggestions</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">markers</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">removeMarker</span><span class="p">);</span>
    <span class="nx">markers</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">suggestions</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">(</span><span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">latlng</span><span class="p">.</span><span class="nx">lat</span><span class="p">,</span> <span class="nx">latlng</span><span class="p">.</span><span class="nx">lng</span><span class="p">),</span> <span class="mi">12</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">e</span><span class="p">.</span><span class="nx">suggestions</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">addMarker</span><span class="p">);</span>
    <span class="nx">findBestZoom</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">handleOnChange</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">markers</span>
      <span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">marker</span><span class="p">,</span> <span class="nx">markerIndex</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">markerIndex</span> <span class="o">===</span> <span class="nx">e</span><span class="p">.</span><span class="nx">suggestionIndex</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">markers</span> <span class="o">=</span> <span class="p">[</span><span class="nx">marker</span><span class="p">];</span>
          <span class="nx">marker</span><span class="p">.</span><span class="nx">setOpacity</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="nx">findBestZoom</span><span class="p">();</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">removeMarker</span><span class="p">(</span><span class="nx">marker</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">});</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">handleOnClear</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">(</span><span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">latlng</span><span class="p">.</span><span class="nx">lat</span><span class="p">,</span> <span class="nx">latlng</span><span class="p">.</span><span class="nx">lng</span><span class="p">),</span> <span class="mi">12</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">handleOnCursorchanged</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">markers</span>
      <span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">marker</span><span class="p">,</span> <span class="nx">markerIndex</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">markerIndex</span> <span class="o">===</span> <span class="nx">e</span><span class="p">.</span><span class="nx">suggestionIndex</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">marker</span><span class="p">.</span><span class="nx">setOpacity</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="nx">marker</span><span class="p">.</span><span class="nx">setZIndexOffset</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">marker</span><span class="p">.</span><span class="nx">setZIndexOffset</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
          <span class="nx">marker</span><span class="p">.</span><span class="nx">setOpacity</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">});</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">addMarker</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">.</span><span class="nx">latlng</span><span class="p">,</span> <span class="p">{</span><span class="na">opacity</span><span class="p">:</span> <span class="p">.</span><span class="mi">4</span><span class="p">});</span>
    <span class="nx">marker</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
    <span class="nx">markers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">marker</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">removeMarker</span><span class="p">(</span><span class="nx">marker</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">map</span><span class="p">.</span><span class="nx">removeLayer</span><span class="p">(</span><span class="nx">marker</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">findBestZoom</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">featureGroup</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">featureGroup</span><span class="p">(</span><span class="nx">markers</span><span class="p">);</span>
    <span class="nx">map</span><span class="p">.</span><span class="nx">fitBounds</span><span class="p">(</span><span class="nx">featureGroup</span><span class="p">.</span><span class="nx">getBounds</span><span class="p">().</span><span class="nx">pad</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span> <span class="p">{</span><span class="na">animate</span><span class="p">:</span> <span class="kc">false</span><span class="p">});</span>
  <span class="p">}</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>

</pre></td></tr></tbody></table> </div> <h2 id=advanced>Advanced</h2> <h3 id=templates>Templates</h3> <p>You can customize both the input value and dropdown suggestion templates.</p> <p>Templates are functions called with a <a href="documentation.html#suggestions">suggestion object</a>.</p> <p><input type=search id=address-templates class=form-control placeholder="Where are we going?"/></p> <script src="https://cdn.jsdelivr.net/places.js/1/places.min.js"></script> <script>
(function() {
  var placesAutocomplete = places({
    container: document.querySelector('#address-templates'),
    templates: {
      value: function(suggestion) {
        return 'Maybe ' + suggestion.name + ' in ' + suggestion.country + '?';
      },
      suggestion: function(suggestion) {
        return '<u>Click here to select ' + suggestion.name + ' from ' + suggestion.country + '</u>';
      }
    }
  });
})();
</script> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre></td><td class=code><pre><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">id=</span><span class="s">"address-templates"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">placeholder=</span><span class="s">"Where are we going?"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/places.js/1/places.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">placesAutocomplete</span> <span class="o">=</span> <span class="nx">places</span><span class="p">({</span>
    <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#address-templates'</span><span class="p">),</span>
    <span class="na">templates</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">value</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'Maybe '</span> <span class="o">+</span> <span class="nx">suggestion</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">' in '</span> <span class="o">+</span> <span class="nx">suggestion</span><span class="p">.</span><span class="nx">country</span> <span class="o">+</span> <span class="s1">'?'</span><span class="p">;</span>
      <span class="p">},</span>
      <span class="na">suggestion</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'&lt;u&gt;Click here to select '</span> <span class="o">+</span> <span class="nx">suggestion</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">' from '</span> <span class="o">+</span> <span class="nx">suggestion</span><span class="p">.</span><span class="nx">country</span> <span class="o">+</span> <span class="s1">'&lt;/u&gt;'</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>

</pre></td></tr></tbody></table> </div> <h3 id=input-styling>Input styling</h3> <p>The default Algolia Places styling should be sufficient for most websites. But you can change it.</p> <p>Both the input and dropdown styles can be changed.</p> <div id=input-styling-address> <input type=search placeholder="Where are we going?"/> </div> <script src="https://cdn.jsdelivr.net/places.js/1/places.min.js"></script> <style>
#input-styling-address input {
  display: inline-block;
  border: 1px solid #d9d9d9;
  border-radius: 12px;
  background: #ffffff;
  padding: 1em 0 1em 45px;
}

#input-styling-address .ap-input-icon-pin {
  left: 20px;
  display: block !important;
}

#input-styling-address input:hover {
  border-color: silver;
}

#input-styling-address input:focus, #input-styling-address input:active {
  outline: 0;
  border-color: #aaaaaa;
  background: #ffffff;
}

#input-styling-address input::placeholder {
  color: #aaaaaa;
}

#input-styling-address .ap-dropdown-menu {
  box-shadow: none;
  border: 1px solid #dadada;
  border-radius: 0;
}

#input-styling-address .ap-suggestion {
  border-bottom: 1px solid #efefef;
}
</style> <script>
(function() {
  var placesAutocomplete = places({
    container: document.querySelector('#input-styling-address input'),
    style: false
  });
})();
</script> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53</pre></td><td class=code><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"input-styling-address"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">placeholder=</span><span class="s">"Where are we going?"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/places.js/1/places.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;style&gt;</span>
<span class="nf">#input-styling-address</span> <span class="nt">input</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#d9d9d9</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#ffffff</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">1em</span> <span class="m">0</span> <span class="m">1em</span> <span class="m">45px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#input-styling-address</span> <span class="nc">.ap-input-icon-pin</span> <span class="p">{</span>
  <span class="nl">left</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span> <span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#input-styling-address</span> <span class="nt">input</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">border-color</span><span class="p">:</span> <span class="no">silver</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#input-styling-address</span> <span class="nt">input</span><span class="nd">:focus</span><span class="o">,</span> <span class="nf">#input-styling-address</span> <span class="nt">input</span><span class="nd">:active</span> <span class="p">{</span>
  <span class="nl">outline</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">border-color</span><span class="p">:</span> <span class="m">#aaaaaa</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#ffffff</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#input-styling-address</span> <span class="nt">input</span><span class="nd">::placeholder</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#aaaaaa</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#input-styling-address</span> <span class="nc">.ap-dropdown-menu</span> <span class="p">{</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#dadada</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#input-styling-address</span> <span class="nc">.ap-suggestion</span> <span class="p">{</span>
  <span class="nl">border-bottom</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#efefef</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">placesAutocomplete</span> <span class="o">=</span> <span class="nx">places</span><span class="p">({</span>
    <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#input-styling-address input'</span><span class="p">),</span>
    <span class="na">style</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">});</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>

</pre></td></tr></tbody></table> </div> <p>See our <a href="documentation.html#styling">documentation about styling</a> for more details.</p> <h3 id=autocompletejs>autocomplete.js</h3> <p>Using <a href="https://github.com/algolia/autocomplete.js">Algolia's autocomplete.js</a> library, you can search in your own data along with showing Algolia Places results.</p> <p>You need an Algolia account to do so and the Algolia Places dataset:</p> <p><input type=search id=autocomplete-dataset class=form-control placeholder="Search for vacation rentals or cities"/></p> <script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearchLite.min.js"></script> <script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.js"></script> <style>
.algolia-autocomplete {
  width: 100%;
}
.ad-example-dropdown-menu {
  width: 100%;
  color: black;
  background-color: #fff;
  border: 1px solid #ccc;
  border-top: none;
  border-radius: 5px;
  padding: .5em;
  box-shadow: 1px 1px 32px -10px rgba(0,0,0,0.62);
}
.ad-example-dropdown-menu .ad-example-suggestion {
  cursor: pointer;
  padding: 5px 4px;
}
.ad-example-dropdown-menu .ad-example-suggestion img {
  height: 2em;
  margin-top: .5em;
  margin-right: 10px;
  float: left;
}
.ad-example-dropdown-menu .ad-example-suggestion small {
  font-size: .8em;
  color: #bbb;
}
.ad-example-dropdown-menu .ad-example-suggestion.ad-example-cursor {
  background-color: #B2D7FF;
}
.ad-example-dropdown-menu .ad-example-suggestion em {
  font-weight: bold;
  font-style: normal;
}
.ad-example-header {
  font-weight: bold;
  padding: .5em 0;
  margin-bottom: 1em;
  border-bottom: 1px solid #ccc;
}
</style> <script src="https://cdn.jsdelivr.net/places.js/1/placesAutocompleteDataset.min.js"></script> <script>
(function() {
  var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');
  var index = client.initIndex('airbnb');

  // create the first autocomplete.js dataset: vacation rentals
  var rentalsDataset = {
    source: autocomplete.sources.hits(index, {hitsPerPage: 2}),
    displayKey: 'name',
    name: 'rentals',
    templates: {
      header: '<div class="ad-example-header">Vacation rentals</div>',
      suggestion: function(suggestion) {
        return '<div class="ad-example-suggestion">' +
          '<img src="' + suggestion.thumbnail_url + '" />' +
          '<div>' +
            suggestion._highlightResult.name.value + '<br />' +
            '<small>' + suggestion._highlightResult.city.value + '</small>' +
          '</div>' +
          '</div>';
      }
    }
  };

  // create the second dataset: places
  // we automatically inject the default CSS
  // all the places.js options are available
  var placesDataset = placesAutocompleteDataset({
    algoliasearch: algoliasearch,
    templates: {
      header: '<div class="ad-example-header">Cities</div>'
    },
    hitsPerPage: 3
  });

  // init
  var autocompleteInstance = autocomplete(document.querySelector('#autocomplete-dataset'), {
    hint: false,
    debug: true,
    cssClasses: {prefix: 'ad-example'}
  }, [
    rentalsDataset,
    placesDataset
  ]);

  var autocompleteChangeEvents = ['selected', 'autocompleted'];

  autocompleteChangeEvents.forEach(function(eventName) {
    autocompleteInstance.on('autocomplete:'+ eventName, function(event, suggestion, datasetName) {
      console.log(datasetName, suggestion);
    });
  });
})();
</script> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102</pre></td><td class=code><pre><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">id=</span><span class="s">"autocomplete-dataset"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">placeholder=</span><span class="s">"Search for vacation rentals or cities"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/algoliasearch/3/algoliasearchLite.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;style&gt;</span>
<span class="nc">.algolia-autocomplete</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.ad-example-dropdown-menu</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="no">black</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#ccc</span><span class="p">;</span>
  <span class="nl">border-top</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">.5em</span><span class="p">;</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">1px</span> <span class="m">1px</span> <span class="m">32px</span> <span class="m">-10px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.62</span><span class="p">);</span>
<span class="p">}</span>
<span class="nc">.ad-example-dropdown-menu</span> <span class="nc">.ad-example-suggestion</span> <span class="p">{</span>
  <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">5px</span> <span class="m">4px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.ad-example-dropdown-menu</span> <span class="nc">.ad-example-suggestion</span> <span class="nt">img</span> <span class="p">{</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">2em</span><span class="p">;</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">.5em</span><span class="p">;</span>
  <span class="nl">margin-right</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.ad-example-dropdown-menu</span> <span class="nc">.ad-example-suggestion</span> <span class="nt">small</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">.8em</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#bbb</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.ad-example-dropdown-menu</span> <span class="nc">.ad-example-suggestion.ad-example-cursor</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#B2D7FF</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.ad-example-dropdown-menu</span> <span class="nc">.ad-example-suggestion</span> <span class="nt">em</span> <span class="p">{</span>
  <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span>
  <span class="nl">font-style</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.ad-example-header</span> <span class="p">{</span>
  <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">.5em</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">1em</span><span class="p">;</span>
  <span class="nl">border-bottom</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#ccc</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/places.js/1/placesAutocompleteDataset.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">algoliasearch</span><span class="p">(</span><span class="s1">'latency'</span><span class="p">,</span> <span class="s1">'6be0576ff61c053d5f9a3225e2a90f76'</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">initIndex</span><span class="p">(</span><span class="s1">'airbnb'</span><span class="p">);</span>

  <span class="c1">// create the first autocomplete.js dataset: vacation rentals</span>
  <span class="kd">var</span> <span class="nx">rentalsDataset</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">source</span><span class="p">:</span> <span class="nx">autocomplete</span><span class="p">.</span><span class="nx">sources</span><span class="p">.</span><span class="nx">hits</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="p">{</span><span class="na">hitsPerPage</span><span class="p">:</span> <span class="mi">2</span><span class="p">}),</span>
    <span class="na">displayKey</span><span class="p">:</span> <span class="s1">'name'</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'rentals'</span><span class="p">,</span>
    <span class="na">templates</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">header</span><span class="p">:</span> <span class="s1">'&lt;div class="ad-example-header"&gt;Vacation rentals&lt;/div&gt;'</span><span class="p">,</span>
      <span class="na">suggestion</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'&lt;div class="ad-example-suggestion"&gt;'</span> <span class="o">+</span>
          <span class="s1">'&lt;img src="'</span> <span class="o">+</span> <span class="nx">suggestion</span><span class="p">.</span><span class="nx">thumbnail_url</span> <span class="o">+</span> <span class="s1">'" /&gt;'</span> <span class="o">+</span>
          <span class="s1">'&lt;div&gt;'</span> <span class="o">+</span>
            <span class="nx">suggestion</span><span class="p">.</span><span class="nx">_highlightResult</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">value</span> <span class="o">+</span> <span class="s1">'&lt;br /&gt;'</span> <span class="o">+</span>
            <span class="s1">'&lt;small&gt;'</span> <span class="o">+</span> <span class="nx">suggestion</span><span class="p">.</span><span class="nx">_highlightResult</span><span class="p">.</span><span class="nx">city</span><span class="p">.</span><span class="nx">value</span> <span class="o">+</span> <span class="s1">'&lt;/small&gt;'</span> <span class="o">+</span>
          <span class="s1">'&lt;/div&gt;'</span> <span class="o">+</span>
          <span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="c1">// create the second dataset: places</span>
  <span class="c1">// we automatically inject the default CSS</span>
  <span class="c1">// all the places.js options are available</span>
  <span class="kd">var</span> <span class="nx">placesDataset</span> <span class="o">=</span> <span class="nx">placesAutocompleteDataset</span><span class="p">({</span>
    <span class="na">algoliasearch</span><span class="p">:</span> <span class="nx">algoliasearch</span><span class="p">,</span>
    <span class="na">templates</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">header</span><span class="p">:</span> <span class="s1">'&lt;div class="ad-example-header"&gt;Cities&lt;/div&gt;'</span>
    <span class="p">},</span>
    <span class="na">hitsPerPage</span><span class="p">:</span> <span class="mi">3</span>
  <span class="p">});</span>

  <span class="c1">// init</span>
  <span class="kd">var</span> <span class="nx">autocompleteInstance</span> <span class="o">=</span> <span class="nx">autocomplete</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#autocomplete-dataset'</span><span class="p">),</span> <span class="p">{</span>
    <span class="na">hint</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">debug</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">cssClasses</span><span class="p">:</span> <span class="p">{</span><span class="na">prefix</span><span class="p">:</span> <span class="s1">'ad-example'</span><span class="p">}</span>
  <span class="p">},</span> <span class="p">[</span>
    <span class="nx">rentalsDataset</span><span class="p">,</span>
    <span class="nx">placesDataset</span>
  <span class="p">]);</span>

  <span class="kd">var</span> <span class="nx">autocompleteChangeEvents</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'selected'</span><span class="p">,</span> <span class="s1">'autocompleted'</span><span class="p">];</span>

  <span class="nx">autocompleteChangeEvents</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">eventName</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">autocompleteInstance</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'autocomplete:'</span><span class="o">+</span> <span class="nx">eventName</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">suggestion</span><span class="p">,</span> <span class="nx">datasetName</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">datasetName</span><span class="p">,</span> <span class="nx">suggestion</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>

</pre></td></tr></tbody></table> </div> <p>See the documentation about the <a href="documentation.html#autocompletejs">placesAutocompleteDataset function</a>.</p> <h3 id=instantsearchjs>instantsearch.js</h3> <p><input type=search id=input-map-instantsearch class=form-control placeholder="Where are you looking for a coffee?"/></p> <div id=map-instantsearch-container></div> <style>
  #map-instantsearch-container {height: 300px};
</style> <script src="https://cdn.jsdelivr.net/instantsearch.js/1.6.0/instantsearch.min.js"></script> <script src="https://cdn.jsdelivr.net/places.js/1/placesInstantsearchWidget.min.js"></script> <script src="https://cdn.jsdelivr.net/instantsearch-googlemaps/1.2.4/instantsearch-googlemaps.min.js"></script> <script src="https://maps.googleapis.com/maps/api/js"></script> <script>
(function() {
var search = instantsearch({
  appId: 'latency',
  apiKey: 'ffc36feb6e9df06e1c3c4549b5af2b31',
  indexName: 'starbucks',
  searchParameters: {
    hitsPerPage: 50
  }
});

var searchBox = placesInstantsearchWidget({
  container: document.querySelector('#input-map-instantsearch')
});

var map = instantsearchGoogleMaps({
  container: document.querySelector('#map-instantsearch-container'),
  prepareMarkerData: ({Brand, Name, 'Street Combined': street}) => {
    return {
      title: `${Brand} - ${Name}`
    };
  },
  refineOnMapInteraction: true
});

search.addWidget(searchBox);
search.addWidget(map);
search.start();
})();
</script> <div class="codehilite html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></td><td class=code><pre><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">id=</span><span class="s">"input-map-instantsearch"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">placeholder=</span><span class="s">"Where are you looking for a coffee?"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"map-instantsearch-container"</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="nt">&lt;style&gt;</span>
  <span class="nf">#map-instantsearch-container</span> <span class="p">{</span><span class="nl">height</span><span class="p">:</span> <span class="m">300px</span><span class="p">}</span><span class="o">;</span>
<span class="nt">&lt;/style&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/instantsearch.js/1.6.0/instantsearch.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/places.js/1/placesInstantsearchWidget.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/instantsearch-googlemaps/1.2.4/instantsearch-googlemaps.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://maps.googleapis.com/maps/api/js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="kd">var</span> <span class="nx">search</span> <span class="o">=</span> <span class="nx">instantsearch</span><span class="p">({</span>
  <span class="na">appId</span><span class="p">:</span> <span class="s1">'latency'</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'ffc36feb6e9df06e1c3c4549b5af2b31'</span><span class="p">,</span>
  <span class="na">indexName</span><span class="p">:</span> <span class="s1">'starbucks'</span><span class="p">,</span>
  <span class="na">searchParameters</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">hitsPerPage</span><span class="p">:</span> <span class="mi">50</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">searchBox</span> <span class="o">=</span> <span class="nx">placesInstantsearchWidget</span><span class="p">({</span>
  <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#input-map-instantsearch'</span><span class="p">)</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">instantsearchGoogleMaps</span><span class="p">({</span>
  <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#map-instantsearch-container'</span><span class="p">),</span>
  <span class="na">prepareMarkerData</span><span class="p">:</span> <span class="p">({</span><span class="nx">Brand</span><span class="p">,</span> <span class="nx">Name</span><span class="p">,</span> <span class="s1">'Street Combined'</span><span class="p">:</span> <span class="nx">street</span><span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">title</span><span class="p">:</span> <span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">Brand</span><span class="p">}</span> <span class="o">-</span> <span class="nx">$</span><span class="p">{</span><span class="nx">Name</span><span class="p">}</span><span class="err">`</span>
    <span class="p">};</span>
  <span class="p">},</span>
  <span class="na">refineOnMapInteraction</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">});</span>

<span class="nx">search</span><span class="p">.</span><span class="nx">addWidget</span><span class="p">(</span><span class="nx">searchBox</span><span class="p">);</span>
<span class="nx">search</span><span class="p">.</span><span class="nx">addWidget</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
<span class="nx">search</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>

</pre></td></tr></tbody></table> </div> </div> </div> </section> <script src="js/documentation-layout-d1ba9a2c.js"></script> <section class=ac-footer> <div class=ac-footer-container> <p class=ac-footer-links> Code licensed under <a class=ac-footer-link-item href='https://github.com/algolia/places/blob/master/LICENSE'>MIT</a> <br> <a class=ac-footer-link-item href='https://github.com/algolia/places/'>Github</a> <a class=ac-footer-link-item href='https://github.com/algolia/places/issues'>Issues</a> <a class=ac-footer-link-item href='https://www.algolia.com/policies/privacy'>Privacy policy</a> </p> </div> <div class='ac-footer-container ac-footer-brand'> <p>This project is part of</p> <img class=ac-footer-brand-icon src='https://res.cloudinary.com/hilnmyskv/image/upload/logo-community.svg'> <figure> <img class=ac-footer-brand-logo src='https://res.cloudinary.com/hilnmyskv/image/upload/v1463417234/algolia-community_n6tixd.svg'> <figcaption>Algolia Community</figcaption> </figure> <a class='ac-footer-btn ac-footer-btn-cta' href='https://community.algolia.com/'>See More</a> <span class='ac-icon ac-icon-love-dark'></span> </div> <p class=ac-footer-version>Latest version: 1.2.1</p> <div class=ac-footer-actions> <div class=footer-container> <p>Build unique search experiences with Algolia</p> <a class='ac-footer-btn ac-footer-btn-ghost-grey' href='https://www.algolia.com/why?utm_medium=social-owned&amp;utm_source=places%20website&amp;utm_campaign=homepage&amp;utm_term=why'> See Why <span class=ac-icon-triangle></span> </a> <a class='ac-footer-btn ac-footer-btn-ghost-pink' href='https://www.algolia.com/users/sign_up?utm_medium=social-owned&amp;utm_source=places%20website&amp;utm_campaign=homepage&amp;utm_term=get_started'>Get Started For Free</a> </div> </div> </section> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32446386-12', 'auto');
  ga('send', 'pageview');
</script> <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-N8JP8G" height=0 width=0 style="display:none;visibility:hidden"></iframe></noscript> <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N8JP8G');</script> <script src="//platform.twitter.com/oct.js"></script> <script>twttr.conversion.trackPid('ntr1j', { tw_sale_amount: 0, tw_order_quantity: 0 });</script> <noscript> <img height=1 width=1 style="display:none;" alt="" src="https://analytics.twitter.com/i/adsct?txn_id=ntr1j&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"/> <img height=1 width=1 style="display:none;" alt="" src="//t.co/i/adsct?txn_id=ntr1j&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"/> </noscript> <script>
  !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
  n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
  document,'script','//connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1654938174769952');
  fbq('track', "PageView");</script> <noscript> <img height=1 width=1 style="display:none" src="https://www.facebook.com/tr?id=1654938174769952&ev=PageView&noscript=1"/> </noscript> <script>
  adroll_adv_id = "TGR7R4XSGVGYVPX4LQBDFQ";
  adroll_pix_id = "YQNWNHGUUBD2JMY7BVOBWM";
  // adroll_email = "username@example.com"; // OPTIONAL: provide email to improve user identification
  (function () {
    var _onload = function(){
      if (document.readyState && !/loaded|complete/.test(document.readyState)){setTimeout(_onload, 10);return}
      if (!window.__adroll_loaded){__adroll_loaded=true;setTimeout(_onload, 50);return}
      var scr = document.createElement("script");
      var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
      scr.setAttribute('async', 'true');
      scr.type = 'text/javascript';
      scr.src = host + '/' + 'j/roundtrip.js'; // middleman removes the leading '/' if concatenated to j/, not sure why...
      ((document.getElementsByTagName('head') || [null])[0] ||
        document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
    };
    if (window.addEventListener) {window.addEventListener('load', _onload, false);}
    else {window.attachEvent('onload', _onload)}
  }());
</script> <script>
  (function(h,o,t,j,a,r){
    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
    h._hjSettings={hjid:177569,hjsv:5};
    a=o.getElementsByTagName('head')[0];
    r=o.createElement('script');r.async=1;
    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
    a.appendChild(r);
  })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
</script> <script>
piAId = '140121';
piCId = '1667';
(function() {
    function async_load(){
        var s = document.createElement('script'); s.type = 'text/javascript';
        s.src = ('https:' == document.location.protocol ? 'https://pi' : 'http://cdn') + '.pardot.com/pd.js';
        var c = document.getElementsByTagName('script')[0]; c.parentNode.insertBefore(s, c);
    }
    if(window.attachEvent) { window.attachEvent('onload', async_load); }
    else { window.addEventListener('load', async_load, false); }
})();
</script> <script src="js/common-fa04cebb.js"></script> </body> </html>